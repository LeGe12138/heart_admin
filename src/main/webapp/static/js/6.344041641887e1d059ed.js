webpackJsonp([6],{506:function(t,e,s){s(585);var a=s(198)(s(550),s(577),"data-v-6c16fbf7",null);t.exports=a.exports},530:function(t,e,s){t.exports={default:s(531),__esModule:!0}},531:function(t,e,s){s(533),t.exports=s(65).Object.keys},532:function(t,e,s){var a=s(88),i=s(65),r=s(59);t.exports=function(t,e){var s=(i.Object||{})[t]||Object[t],n={};n[t]=e(s),a(a.S+a.F*r(function(){s(1)}),"Object",n)}},533:function(t,e,s){var a=s(137),i=s(66);s(532)("keys",function(){return function(t){return i(a(t))}})},550:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(530),i=s.n(a);e.default={name:"test-paper",data:function(){return{testId:this.$route.params.testId,test:{},typeList:[],disabled:!1,shwSelf:!1}},props:{showCrumb:{type:Boolean,required:!1}},created:function(){this.getTestType()},mounted:function(){var t=this;t.testId>0?(t.disabled=!0,t.getTestById(t.testId),t.shwSelf=!0):t.test.test_num=1},methods:{getTestType:function(){var t=this;t.$axios.post("/mapis/test/getLabels").then(function(e){e.data.state&&(t.typeList=e.data.list)})},getTestById:function(t){var e=this;e.$axios.post("/mapis/test/getTestById",{testId:t}).then(function(t){t.data.state&&(e.test=t.data.list)})},getFormData:function(t,e,s){var a=this;if(i()(a.test).length<t.length)return void a.$message.error("请检查内容，内容都不可为空");for(var r in a.test)if(-1==s.indexOf(r)){if(!a.test[r]||-1==t.indexOf(r))return console.log("err "+r),a.$message.error("请检查内容，内容都不可为空"),!1;e.append(r,a.test[r])}return!0},editTestPaper:function(){var t=this,e=["test_id","test_name","test_num","typeId"],s=new FormData,a=["picture_addr"];if(t.getFormData(e,s,a)){t.$refs.file.files[0]?s.append("picture_addr",t.$refs.file.files[0]):s.append("picture_addr",t.test.picture_addr);var i={headers:{"Content-Type":"multipart/form-data"}};t.$axios.post("/mapis/test/editTestPaper",s,i).then(function(e){e.data.state&&(t.getTestById(t.testId),t.disabled=!0)})}},addTestPaper:function(){var t=this,e=["test_name","test_num","typeId"],s=new FormData;if(!t.$refs.file.files[0])return void t.$message.error("请检查内容，内容都不可为空");if(t.getFormData(e,s,[])){s.append("picture_addr",t.$refs.file.files[0]);var a={headers:{"Content-Type":"multipart/form-data"}};t.$axios.post("/mapis/test/addTestPaper",s,a).then(function(e){e.data.state?t.$emit("paper",!0,e.data.testId):t.$emit("paper",!1)})}},sendArticle:function(){var t=this;t.testId>0?t.editTestPaper():t.addTestPaper()}}}},559:function(t,e,s){e=t.exports=s(87)(!1),e.push([t.i,".file[data-v-6c16fbf7]{position:relative;display:inline-block;background:#20a0ff;border:1px solid #20a0ff;border-radius:4px;padding:4px 15px;overflow:hidden;color:#fff;text-decoration:none;text-indent:0;line-height:20px}.file input[data-v-6c16fbf7]{position:absolute;font-size:100px;right:0;top:0;opacity:0}.file[data-v-6c16fbf7]:hover{background:#2085c5;border-color:#2085c5;color:#fff;text-decoration:none}",""])},577:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[t.showCrumb||t.shwSelf?s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-menu"}),t._v(" 测试管理")]),t._v(" "),s("el-breadcrumb-item",[t._v("测试")])],1)],1):t._e(),t._v(" "),s("div",{staticClass:"handle-box"},[s("div",{staticClass:"table"},[s("el-form",{ref:"test",staticClass:"demo-admin",attrs:{model:t.test,"label-width":"120px"}},[s("el-form-item",{attrs:{prop:"test_name",label:"测试标题"}},[s("el-input",{attrs:{placeholder:"请输入测试标题",disabled:t.disabled},model:{value:t.test.test_name,callback:function(e){t.$set(t.test,"test_name",e)},expression:"test.test_name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"类型"}},[s("el-select",{attrs:{placeholder:"类型",disabled:t.disabled},on:{change:function(t){}},model:{value:t.test.typeId,callback:function(e){t.$set(t.test,"typeId",e)},expression:"test.typeId"}},t._l(t.typeList,function(e,a){return s("el-option",{key:a,attrs:{label:e.paper_label_name,value:e.paper_label_id,disabled:t.disabled}})}))],1),t._v(" "),t.disabled?s("el-form-item",{attrs:{prop:"test_num",label:"测试人数"}},[s("el-input",{attrs:{placeholder:"",disabled:t.disabled},model:{value:t.test.test_num,callback:function(e){t.$set(t.test,"test_num",t._n(e))},expression:"test.test_num"}})],1):t._e(),t._v(" "),s("el-form-item",{attrs:{prop:"picture_addr",label:"照片"}},[t.disabled?s("img",{staticStyle:{width:"270px"},attrs:{src:t.test.picture_addr}}):s("span",{staticClass:"file",attrs:{href:"javascript:void 0;"}},[t._v("选择文件\n                        "),s("input",{ref:"file",attrs:{type:"file",name:"picture_addr",multiple:"multiple"}})])])],1),t._v(" "),t.disabled?s("el-button",{staticClass:"right",attrs:{size:"medium",type:"info"},on:{click:function(e){t.disabled=!1}}},[t._v("修改")]):s("el-button",{staticClass:"right",attrs:{size:"medium",type:"info"},on:{click:t.sendArticle}},[t._v("确定")])],1)])])},staticRenderFns:[]}},585:function(t,e,s){var a=s(559);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(197)("313ea9d8",a,!0)}});